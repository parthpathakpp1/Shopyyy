{"ast":null,"code":"import _objectSpread from\"C:/Users/PARTH/Desktop/Ecommerce-App-2023/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/PARTH/Desktop/Ecommerce-App-2023/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{NavLink,Link}from\"react-router-dom\";import{useAuth}from\"../../context/auth\";import toast from\"react-hot-toast\";import SearchInput from\"../Form/SearchInput\";import useCategory from\"../../hooks/useCategory\";import{useCart}from\"../../context/cart\";import{Badge}from\"antd\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(){var _auth$user,_auth$user2;var _useAuth=useAuth(),_useAuth2=_slicedToArray(_useAuth,2),auth=_useAuth2[0],setAuth=_useAuth2[1];var _useCart=useCart(),_useCart2=_slicedToArray(_useCart,1),cart=_useCart2[0];var categories=useCategory();var handleLogout=function handleLogout(){setAuth(_objectSpread(_objectSpread({},auth),{},{user:null,token:\"\"}));localStorage.removeItem(\"auth\");toast.success(\"Logout Successfully\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg bg-body-tertiary fixed-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarTogglerDemo01\",\"aria-controls\":\"navbarTogglerDemo01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo01\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"\\uD83D\\uDED2 Ecommerce App\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(SearchInput,{}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"nav-link \",children:\"Home\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-link dropdown-toggle\",to:\"/categories\",\"data-bs-toggle\":\"dropdown\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/categories\",children:\"All Categories\"})}),categories===null||categories===void 0?void 0:categories.map(function(c){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/category/\".concat(c.slug),children:c.name})});})]})]}),!(auth!==null&&auth!==void 0&&auth.user)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"nav-link\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"nav-link\",children:\"Login\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link dropdown-toggle\",href:\"#\",role:\"button\",\"data-bs-toggle\":\"dropdown\",style:{border:\"none\"},children:auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.name}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/dashboard/\".concat((auth===null||auth===void 0?void 0:(_auth$user2=auth.user)===null||_auth$user2===void 0?void 0:_auth$user2.role)===1?\"admin\":\"user\"),className:\"dropdown-item\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{onClick:handleLogout,to:\"/login\",className:\"dropdown-item\",children:\"Logout\"})})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/cart\",className:\"nav-link\",children:/*#__PURE__*/_jsx(Badge,{count:cart===null||cart===void 0?void 0:cart.length,showZero:true,offset:[10,-5],children:\"Cart\"})})})]})]})]})})});};export default Header;","map":{"version":3,"names":["React","NavLink","Link","useAuth","toast","SearchInput","useCategory","useCart","Badge","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_auth$user","_auth$user2","_useAuth","_useAuth2","_slicedToArray","auth","setAuth","_useCart","_useCart2","cart","categories","handleLogout","_objectSpread","user","token","localStorage","removeItem","success","children","className","type","id","to","map","c","concat","slug","name","href","role","style","border","onClick","count","length","showZero","offset"],"sources":["C:/Users/PARTH/Desktop/Ecommerce-App-2023/client/src/components/Layout/Header.js"],"sourcesContent":["import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport toast from \"react-hot-toast\";\r\nimport SearchInput from \"../Form/SearchInput\";\r\nimport useCategory from \"../../hooks/useCategory\";\r\nimport { useCart } from \"../../context/cart\";\r\nimport { Badge } from \"antd\";\r\n\r\nconst Header = () => {\r\n    const [auth, setAuth] = useAuth();\r\n    const [cart] = useCart();\r\n    const categories = useCategory();\r\n    const handleLogout = () => {\r\n        setAuth({\r\n            ...auth,\r\n            user: null,\r\n            token: \"\",\r\n        });\r\n        localStorage.removeItem(\"auth\");\r\n        toast.success(\"Logout Successfully\");\r\n    };\r\n    return (\r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg bg-body-tertiary fixed-top\">\r\n                <div className=\"container-fluid\">\r\n                    <button\r\n                        className=\"navbar-toggler\"\r\n                        type=\"button\"\r\n                        data-bs-toggle=\"collapse\"\r\n                        data-bs-target=\"#navbarTogglerDemo01\"\r\n                        aria-controls=\"navbarTogglerDemo01\"\r\n                        aria-expanded=\"false\"\r\n                        aria-label=\"Toggle navigation\"\r\n                    >\r\n                        <span className=\"navbar-toggler-icon\" />\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            ðŸ›’ Ecommerce App\r\n                        </Link>\r\n                        <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\r\n                            <SearchInput />\r\n                            <li className=\"nav-item\">\r\n                                <NavLink to=\"/\" className=\"nav-link \">\r\n                                    Home\r\n                                </NavLink>\r\n                            </li>\r\n                            <li className=\"nav-item dropdown\">\r\n                                <Link\r\n                                    className=\"nav-link dropdown-toggle\"\r\n                                    to={\"/categories\"}\r\n                                    data-bs-toggle=\"dropdown\"\r\n                                >\r\n                                    Categories\r\n                                </Link>\r\n                                <ul className=\"dropdown-menu\">\r\n                                    <li>\r\n                                        <Link className=\"dropdown-item\" to={\"/categories\"}>\r\n                                            All Categories\r\n                                        </Link>\r\n                                    </li>\r\n                                    {categories?.map((c) => (\r\n                                        <li>\r\n                                            <Link\r\n                                                className=\"dropdown-item\"\r\n                                                to={`/category/${c.slug}`}\r\n                                            >\r\n                                                {c.name}\r\n                                            </Link>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </li>\r\n\r\n                            {!auth?.user ? (\r\n                                <>\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink to=\"/register\" className=\"nav-link\">\r\n                                            Register\r\n                                        </NavLink>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink to=\"/login\" className=\"nav-link\">\r\n                                            Login\r\n                                        </NavLink>\r\n                                    </li>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <li className=\"nav-item dropdown\">\r\n                                        <NavLink\r\n                                            className=\"nav-link dropdown-toggle\"\r\n                                            href=\"#\"\r\n                                            role=\"button\"\r\n                                            data-bs-toggle=\"dropdown\"\r\n                                            style={{ border: \"none\" }}\r\n                                        >\r\n                                            {auth?.user?.name}\r\n                                        </NavLink>\r\n                                        <ul className=\"dropdown-menu\">\r\n                                            <li>\r\n                                                <NavLink\r\n                                                    to={`/dashboard/${auth?.user?.role === 1 ? \"admin\" : \"user\"\r\n                                                        }`}\r\n                                                    className=\"dropdown-item\"\r\n                                                >\r\n                                                    Dashboard\r\n                                                </NavLink>\r\n                                            </li>\r\n                                            <li>\r\n                                                <NavLink\r\n                                                    onClick={handleLogout}\r\n                                                    to=\"/login\"\r\n                                                    className=\"dropdown-item\"\r\n                                                >\r\n                                                    Logout\r\n                                                </NavLink>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </li>\r\n                                </>\r\n                            )}\r\n                            <li className=\"nav-item\">\r\n                                <NavLink to=\"/cart\" className=\"nav-link\">\r\n                                    <Badge count={cart?.length} showZero offset={[10, -5]}>\r\n                                        Cart\r\n                                    </Badge>\r\n                                </NavLink>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}